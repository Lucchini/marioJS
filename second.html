<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Game Controller</title>
  <link rel="stylesheet" href="css/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
</head>

<body>



  <div id="fire-wrap">
    <div id="button-container">
      <div class="button fire"></div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.dev.js"></script>
  <script src="/js/jquery-3.3.1.min.js"></script>
  <script src="/js/socket.io.dev.js"></script>
  <script>
    var socket = io.connect();
    var counter = 0;

    $(".button").click(function() {
      console.log(counter);

      if (counter <= 4) {
        counter++;
        console.log("Pressed");
        socket.emit('firePressed');
      } else {
        console.log("wait");
        $('.button').css('pointer-events', 'none');
        setTimeout(function() {
          console.log("reset counter");
          $('.button').css('pointer-events', 'auto');
          counter = 0;
        }, 1500);
      }
    });


    if (window.innerHeight > window.innerWidth) {
      $('#rotateScreen').css('visibility', 'visible');
    } else {
      $('#rotateScreen').css('visibility', 'hidden');
    }

  </script>
</body>

</html>
